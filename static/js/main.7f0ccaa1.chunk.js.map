{"version":3,"sources":["utils/constants.js","utils/Api.js","utils/ApiAuth.js","contexts/CurrentUserContext.js","components/ProtectedRoute/ProtectedRoute.js","components/Card/Card.js","images/logo.svg","components/Header/Header.js","components/Main/Main.js","components/Footer/Footer.js","components/Login/Login.js","components/Register/Register.js","components/PopupWithForm/PopupWithForm.js","components/AddPlacePopup/AddPlacePopup.js","components/ImagePopup/ImagePopup.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/DeleteConfirmPopup/DeleteConfirmPopup.js","images/auth__popup_succes.svg","images/auth__popup_failed.svg","components/InfoTooltip/InfoTooltip.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["apiUrl","api","config","this","_url","url","_headers","headers","_checkResponse","bind","response","ok","json","Promise","reject","status","fetch","credentials","then","res","newName","newInfo","method","body","JSON","stringify","name","about","link","id","prop","avatar","apiAuth","email","pass","CurrentUserContext","React","createContext","ProtectedRoute","Component","component","props","currentUser","useContext","loggedIn","to","Card","isOwn","cardData","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","onClick","onCardDelete","src","alt","onCardClick","type","onCardLike","length","Header","logo","children","Main","onEditAvatar","onEditProfile","onAddPlace","cards","userEmail","onLogOut","style","backgroundImage","map","cardItem","Footer","Login","useState","setEmail","setPass","onSubmit","e","preventDefault","placeholder","value","onChange","target","required","Register","minLength","PopupWithForm","title","isOpen","onClose","loading","AddPlacePopup","cardDescription","setCardDescription","cardLink","setCardLink","description","ImagePopup","card","EditProfilePopup","setName","setDescription","useEffect","onUpdateUser","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","DeleteConfirmPopup","InfoTooltip","state","popupImgSuccess","popupImgFailed","message","App","setLoggedIn","setUserEmail","setCurrentUser","isInfoPopupOpen","setIsInfoPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","isLoading","setIsLoading","authState","setAuthState","authMessage","setAuthMessage","setCards","history","useHistory","closeAllPopups","getUserInfo","push","data","catch","err","console","log","getCards","cardList","Provider","document","cookie","path","changeLikeCardStatus","newCard","c","exact","loginIn","newUser","finally","test","setUserInfo","sendCard","changerAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7f0ccaa1.chunk.js","sourcesContent":["const apiUrl = 'http://rolandsallaz.mesto.nomore.nomoredomains.work';\r\n\r\n\r\nexport { apiUrl };\r\n","import { apiUrl } from \"./constants\";\r\nclass Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n        this._checkResponse = this._checkResponse.bind(this);\r\n    }\r\n    _checkResponse(response) {\r\n        return response.ok ? response.json() : Promise.reject(response.status);\r\n    }\r\n    getUserInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            credentials: 'include',\r\n            headers: this._headers\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    setUserInfo(newName, newInfo) {\r\n        return fetch(`${this._url}users/me`, {\r\n            credentials: 'include',\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({ name: newName, about: newInfo })\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    getCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            credentials: 'include',\r\n            headers: this._headers\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    sendCard(name, link) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: \"POST\",\r\n            credentials: 'include',\r\n            headers: this._headers,\r\n            body: JSON.stringify({ name, link })\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            credentials: 'include',\r\n            method: \"DELETE\",\r\n            headers: this._headers,\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    changeLikeCardStatus(id, prop) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            credentials: 'include',\r\n            method: prop,\r\n            headers: this._headers,\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n\r\n    changerAvatar(avatar) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            credentials: 'include',\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({ avatar }),\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: apiUrl,\r\n    headers: {\r\n        \"Content-type\": \"application/json\"\r\n    }\r\n});\r\nexport default api;","import { apiUrl } from \"./constants\";\r\nclass ApiAuth {\r\n    constructor() {\r\n        this._url = apiUrl;\r\n        this._headers = { \"Content-Type\": \"application/json\" };\r\n        this._checkResponse = this._checkResponse.bind(this);\r\n    }\r\n    _checkResponse(response) {\r\n        return response.ok ? response.json() : Promise.reject(response.status);\r\n    }\r\n    newUser({ email, pass }) {\r\n        return fetch(`${this._url}/signup`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                \"password\": pass,\r\n                \"email\": email\r\n            })\r\n        })\r\n            .then(res => {\r\n                return this._checkResponse(res);\r\n            });\r\n    }\r\n    loginIn({ email, pass }) {\r\n        return fetch(`${this._url}/signin`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                \"password\": pass,\r\n                \"email\": email\r\n            })\r\n        })\r\n            .then(res => {\r\n                return this._checkResponse(res);\r\n            });\r\n    }\r\n\r\n}\r\nconst apiAuth = new ApiAuth();\r\nexport default apiAuth;","import React from \"react\";\r\n\r\nconst CurrentUserContext = React.createContext();\r\nexport default CurrentUserContext;","import { Redirect, Route } from \"react-router\"\r\nimport { useContext } from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    return (\r\n        <Route>\r\n            {\r\n                () => props.loggedIn === true && currentUser ? <Component {...props} /> : <Redirect to=\"/sign-in\"></Redirect>\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default ProtectedRoute;","import React, { useContext } from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\nconst Card = (props) => {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const isOwn = props.cardData.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__deleteButton ${!isOwn && 'element__deleteButton_hidden'}`\r\n    );\r\n    const isLiked = props.cardData.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `element__like ${isLiked && \"element__like_clicked\"}`;\r\n    const handleCardClick = () => {\r\n        props.onCardClick(props.cardData);\r\n    }\r\n    const handleCardLike = () => {\r\n        props.onCardLike(props.cardData);\r\n    }\r\n    const handleCardDelete = () => {\r\n        props.onCardDelete(props.cardData);\r\n    }\r\n    return (\r\n        <div className=\"element\">\r\n            <button className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n            <img src={props.cardData.link} alt={props.cardData.name} className=\"element__image\" onClick={handleCardClick} />\r\n            <div className=\"element__container\">\r\n                <h2 className=\"element__heading\">{props.cardData.name}</h2>\r\n                <div className=\"element__like-container\">\r\n                    <button className={cardLikeButtonClassName} aria-label=\"Поставить лайк карточке\" type=\"button\" onClick={handleCardLike}></button>\r\n                    <p className=\"element__like-counter\">{props.cardData.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n}\r\nexport default Card;","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import \"./Header\";\r\nimport logo from \"../../images/logo.svg\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        src={logo}\r\n        alt=\"Логотип 'Яндекс место'\"\r\n        className=\"logo logo_place_header\"\r\n      />\r\n      <nav className=\"nav-menu\">\r\n        {props.children}\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\nexport default Header;\r\n","import Card from '../Card/Card.js';\r\nimport Header from '../Header/Header.js';\r\nimport { Link } from 'react-router-dom';\r\nimport { useContext } from \"react\";\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext.js';\r\nconst Main = ({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards, ...props }) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <Header>\r\n        <p className=\"nav-menu__user-email\">{props.userEmail}</p> <Link to=\"/sign-in\" onClick={props.onLogOut} className='nav-menu__link'>Выйти</Link>\r\n      </Header>\r\n      <main className=\"content\">\r\n        <section className=\"profile\">\r\n          <button className=\"profile__avatar\" onClick={onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }} >\r\n            <div className=\"profile__edit\"></div>\r\n          </button>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__content\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n            </div>\r\n            <button\r\n              className=\"profile__edit-button\"\r\n              aria-label=\"Редактировать профиль\"\r\n              type=\"button\"\r\n              onClick={onEditProfile}\r\n            ></button>\r\n          </div>\r\n          <button\r\n            className=\"profile__add-button\"\r\n            aria-label=\"Добавить карточку\"\r\n            type=\"button\"\r\n            onClick={onAddPlace}\r\n          ></button>\r\n        </section>\r\n        <section className=\"elements\">\r\n          {cards.map(cardItem => {\r\n            return (<Card\r\n              key={cardItem._id}\r\n              cardData={cardItem}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete} />)\r\n          })}\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\nexport default Main;\r\n","const Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n};\r\nexport default Footer;\r\n","import { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport Header from \"../Header/Header\";\r\n\r\nconst Login = (props) => {\r\n    const [email, setEmail] = useState('');\r\n    const [pass, setPass] = useState('');\r\n\r\n    const handleSumbmit = (e) => {\r\n        e.preventDefault();\r\n        props.onSubmit({ email, pass });\r\n    }\r\n    return (\r\n        <>\r\n            <Header>\r\n                <Link to=\"/sign-up\" className='nav-menu__link'>Регистрация</Link>\r\n            </Header>\r\n            <div className=\"auth\">\r\n                <form id='form-auth' onSubmit={handleSumbmit}>\r\n                    <h2 className=\"form-auth__heading\">Вход</h2>\r\n                    <label>\r\n                        <input placeholder=\"Email\" value={email} className=\"form-auth__input\" type=\"email\" onChange={({ target }) => { setEmail(target.value) }} required />\r\n                    </label>\r\n                    <label>\r\n                        <input placeholder=\"Пароль\" value={pass} className=\"form-auth__input\" type=\"password\" onChange={({ target }) => { setPass(target.value) }} required />\r\n                    </label>\r\n                    <button className=\"form-auth__submit-button\" type=\"submit\">Войти</button>\r\n                </form>\r\n            </div >\r\n        </>\r\n    )\r\n}\r\nexport default Login;","import { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport Header from '../Header/Header'\r\n\r\nconst Register = (props) => {\r\n    const [email, setEmail] = useState('');\r\n    const [pass, setPass] = useState('');\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onSubmit({ email, pass });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header>\r\n                <Link to=\"/sign-in\" className='nav-menu__link'>Войти</Link>\r\n            </Header>\r\n            <div className=\"auth\">\r\n                <form id='form-auth' onSubmit={handleSubmit}>\r\n                    <h2 className=\"form-auth__heading\">Регистрация</h2>\r\n                    <label>\r\n                        <input placeholder=\"Email\" value={email} className=\"form-auth__input\" type=\"email\" required onChange={({ target }) => setEmail(target.value)} />\r\n                    </label>\r\n                    <label>\r\n                        <input placeholder=\"Пароль\" value={pass} className=\"form-auth__input\" type=\"password\" required onChange={({ target }) => setPass(target.value)} minLength=\"8\" />\r\n                    </label>\r\n                    <button className=\"form-auth__submit-button\" type=\"submit\">Зарегистрироваться</button>\r\n                </form>\r\n                <p className='auth__description'>Уже зарегистрированы? <Link className=\"auth__description_link\" to='/sign-in'>Войти</Link></p>\r\n            </div >\r\n\r\n        </>\r\n    )\r\n}\r\nexport default Register;","const PopupWithForm = ({ name, title, children, isOpen, onClose, onSubmit, loading }) => {\r\n  return (\r\n    <div className={`popup ${isOpen && \"popup_show\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          onClick={onClose}\r\n          className=\"popup__close-button\"\r\n          aria-label=\"Закрыть форму\"\r\n          type=\"button\"\r\n        ></button>\r\n        <form className=\"form\" id={name} onSubmit={onSubmit}>\r\n          <div className=\"form__container\">\r\n            <h2 className=\"form__title\">{title}</h2>\r\n            {children}\r\n            <button className={`form__save-button ${loading && \"form__save-button_loading\"}`} type=\"submit\">\r\n              Сохранить\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PopupWithForm;\r\n","import PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport { useState } from \"react\";\r\nexport default function AddPlacePopup({ isOpen, onClose, onSubmit, ...props }) {\r\n    const [cardDescription, setCardDescription] = useState(null);\r\n    const [cardLink, setCardLink] = useState(null);\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onSubmit({ link: cardLink, description: cardDescription });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add\"\r\n            title=\"Новое Место\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            loading={props.loading}\r\n        >\r\n            <label>\r\n                <input\r\n                    placeholder=\"Название\"\r\n                    type=\"text\"\r\n                    name=\"imgName\"\r\n                    className=\"form__input form__input_info_name\"\r\n                    id=\"form__input_info_cardName\"\r\n                    required\r\n                    value={cardDescription}\r\n                    onChange={e => { setCardDescription(e.target.value) }}\r\n                />\r\n                <span className=\"form__error\" id=\"form__input_info_cardName-error\">\r\n                    Поле с ошибкой\r\n                </span>\r\n            </label>\r\n            <label>\r\n                <input\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    type=\"url\"\r\n                    name=\"link\"\r\n                    className=\"form__input form__input_info_about\"\r\n                    id=\"form__input_info_link\"\r\n                    required\r\n                    value={cardLink}\r\n                    onChange={e => { setCardLink(e.target.value) }}\r\n                />\r\n                <span className=\"form__error\" id=\"form__input_info_link-error\">\r\n                    Поле с ошибкой\r\n                </span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}","const ImagePopup = ({ card, onClose }) => {\r\n  return (\r\n    <div className={`popup popup_name_image ${card && 'popup_show'}`}>\r\n      <div className=\"popup__container popup__container_name_preview\">\r\n        <button\r\n          onClick={onClose}\r\n          className=\"popup__close-button\"\r\n          aria-label=\"Закрыть форму\"\r\n          type=\"button\"\r\n        ></button>\r\n        <img src={card && card.link} alt=\"Изображение недоступно\" className=\"popup__image\" ></img>\r\n        <p className=\"popup__image-name\">{card && card.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ImagePopup;\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            setName(currentUser.name);\r\n            setDescription(currentUser.about);\r\n        }\r\n    }, [currentUser, props.isOpen]);\r\n    return (<PopupWithForm\r\n        name=\"edit\"\r\n        title=\"Редактировать профиль\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        loading={props.loading}\r\n    >\r\n        <label>\r\n            <input\r\n                placeholder=\"Имя\"\r\n                value={name}\r\n                type=\"text\"\r\n                name=\"userName\"\r\n                className=\"form__input form__input_info_name\"\r\n                id=\"form__input_info_name\"\r\n                required\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                onChange={(e) => { setName(e.target.value) }}\r\n            />\r\n            <span className=\"form__error\" id=\"form__input_info_name-error\">\r\n                Поле с ошибкой\r\n            </span>\r\n        </label>\r\n        <label>\r\n            <input\r\n                placeholder=\"О себе\"\r\n                value={description}\r\n                type=\"text\"\r\n                name=\"about\"\r\n                className=\"form__input form__input_info_about\"\r\n                id=\"form__input_info_about\"\r\n                required\r\n                minLength=\"2\"\r\n                maxLength=\"200\"\r\n                onChange={(e) => { setDescription(e.target.value) }}\r\n            />\r\n            <span className=\"form__error\" id=\"form__input_info_about-error\">\r\n                Поле с ошибкой\r\n            </span>\r\n        </label>\r\n    </PopupWithForm>);\r\n}\r\nexport default EditProfilePopup;","import { useRef } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nexport default function EditAvatarPopup(props) {\r\n    const avatarRef = useRef();\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({ avatar: avatarRef.current.value });\r\n    }\r\n    return (<PopupWithForm\r\n        name=\"changeAvatar\"\r\n        title=\"Обновить аватар\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        loading={props.loading}\r\n    >\r\n        <label>\r\n            <input\r\n                placeholder=\"Ссылка на картинку\"\r\n                type=\"url\"\r\n                name=\"link\"\r\n                className=\"form__input form__input_info_about\"\r\n                id=\"form__input_changeAvatar_link\"\r\n                required\r\n                ref={avatarRef}\r\n            />\r\n            <span\r\n                className=\"form__error\"\r\n                id=\"form__input_changeAvatar_link-error\"\r\n            >\r\n                Поле с ошибкой\r\n            </span>\r\n        </label>\r\n    </PopupWithForm>);\r\n}","import PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nexport default function DeleteConfirmPopup(props) {\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onSubmit(props.card);\r\n    }\r\n    return (<PopupWithForm\r\n        name=\"DeleteConfirm\"\r\n        title=\"Вы уверены?\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        loading={props.loading}\r\n    />)\r\n}","export default __webpack_public_path__ + \"static/media/auth__popup_succes.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/auth__popup_failed.d4ce2a26.svg\";","import popupImgSuccess from '../../images/auth__popup_succes.svg';\r\nimport popupImgFailed from '../../images/auth__popup_failed.svg';\r\nconst InfoTooltip = (props) => {\r\n    return (\r\n        <div className={`popup ${props.isOpen && \"popup_show\"}`}>\r\n            <div className=\"popup__container\">\r\n                <button\r\n                    onClick={props.onClose}\r\n                    className=\"popup__close-button\"\r\n                    aria-label=\"Закрыть форму\"\r\n                    type=\"button\"\r\n                ></button>\r\n                <img className=\"popup__image-status\" alt=\"Статус аутентификации\" src={props.state === true ? popupImgSuccess : popupImgFailed}></img>\r\n                <h2 className=\"popup__description\">{props.message}</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default InfoTooltip;","import { Route, Switch, useHistory } from \"react-router\";\r\nimport { useState, useEffect } from \"react\";\r\nimport api from \"../../utils/Api\";\r\nimport apiAuth from \"../../utils/ApiAuth\";\r\n\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\nimport Main from \"../Main/Main\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport Login from \"../Login/Login\";\r\nimport Register from \"../Register/Register\";\r\n\r\nimport AddPlacePopup from \"../AddPlacePopup/AddPlacePopup\";\r\nimport ImagePopup from \"../ImagePopup/ImagePopup\";\r\nimport EditProfilePopup from \"../EditProfilePopup/EditProfilePopup\";\r\nimport EditAvatarPopup from \"../EditAvatarPopup/EditAvatarPopup\";\r\nimport DeleteConfirmPopup from \"../DeleteConfirmPopup/DeleteConfirmPopup\";\r\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\r\n\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction App() {\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [userEmail, setUserEmail] = useState('');\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [cardToDelete, setCardToDelete] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [authState, setAuthState] = useState(null);\r\n  const [authMessage, setAuthMessage] = useState('');\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const history = useHistory();\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleCardDeleteClick = (cardData) => {\r\n    setCardToDelete(cardData);\r\n    setIsDeletePopupOpen(true);\r\n  }\r\n\r\n  const handleCardDelete = (card) => {\r\n    setIsLoading(true);\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => { setCards((state) => state.filter(cardItem => cardItem._id !== card._id)); closeAllPopups(); })\r\n      .catch(err => console.log(err))\r\n      .finally(() => { setIsLoading(false) });\r\n  }\r\n\r\n  const handleCardClick = (cardData) => {\r\n    setSelectedCard(cardData);\r\n  }\r\n\r\n  const handleUpdateUser = ({ name, about, test }) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserInfo(name, about)\r\n      .then(res => { setCurrentUser(res); closeAllPopups() })\r\n      .catch(err => console.log(err))\r\n      .finally(() => { setIsLoading(false) });\r\n  }\r\n  const handleUpdateAvatar = ({ avatar }) => {\r\n    setIsLoading(true);\r\n    api\r\n      .changerAvatar(avatar)\r\n      .then(res => { setCurrentUser(res); closeAllPopups() })\r\n      .catch(err => console.log(err))\r\n      .finally(() => { setIsLoading(false) });\r\n  }\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked ? \"DELETE\" : \"PUT\")\r\n      .then((newCard) => { setCards((state) => state.map((c) => c._id === card._id ? newCard : c)); })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  const handleAddPlace = ({ link, description }) => {\r\n    setIsLoading(true);\r\n    api\r\n      .sendCard(description, link)\r\n      .then(newCard => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      });\r\n  }\r\n\r\n  const handleRegistration = ({ email, pass }) => {\r\n    apiAuth\r\n      .newUser({ email, pass })\r\n      .then(() => {\r\n        setAuthState(true);\r\n        setAuthMessage('Вы успешно зарегистрировались!');\r\n        history.push('/sign-in');\r\n      })\r\n      .catch(() => {\r\n        setAuthState(false)\r\n        setAuthMessage(`Что-то пошло не так!\r\n        Попробуйте ещё раз.`);\r\n      })\r\n      .finally(() => {\r\n        setIsInfoPopupOpen(true)\r\n      });\r\n  }\r\n  const handleLogin = ({ email, pass }) => {\r\n    apiAuth\r\n      .loginIn({ email, pass }).then(() => {\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n        setUserEmail(email);\r\n      })\r\n      .catch(() => { setIsInfoPopupOpen(true); setAuthState(false); setAuthMessage('Неверный логин или пароль') });\r\n  }\r\n  const handleLogOut = () => {\r\n    document.cookie = \"jwt=\";\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n  const closeAllPopups = () => {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsDeletePopupOpen(false);\r\n    setIsInfoPopupOpen(false);\r\n    setSelectedCard(null);\r\n    setAuthState(null);\r\n    setAuthMessage('');\r\n  };\r\n  useEffect(() => {\r\n    api.getUserInfo()\r\n      .then(res => {\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n        setUserEmail(res.data.email);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, []);\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      api\r\n        .getUserInfo().then(res => { setCurrentUser(res); })\r\n        .catch(err => console.log(`Ошибка при загрузке пользователя err ${err}`));\r\n    }\r\n  }, [loggedIn]);\r\n  useEffect(() => {\r\n    api\r\n      .getCards().then(cardList => { setCards(cardList); })\r\n      .catch(err => console.log(`Ошибка при получении карточек err ${err}`));\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Switch>\r\n        <div className=\"page\">\r\n          <ProtectedRoute\r\n            userEmail={userEmail}\r\n            component={Main}\r\n            onLogOut={handleLogOut}\r\n            loggedIn={loggedIn} path='/'\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDeleteClick}>\r\n          </ProtectedRoute>\r\n          <Route exact path='/sign-in'>\r\n            <Login onSubmit={handleLogin} />\r\n          </Route>\r\n          <Route exact path='/sign-up'>\r\n            <Register onSubmit={handleRegistration} />\r\n          </Route>\r\n          <Footer />\r\n          <InfoTooltip isOpen={isInfoPopupOpen} onClose={closeAllPopups} state={authState} message={authMessage} />\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser} onClose={closeAllPopups} loading={isLoading} />\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onSubmit={handleAddPlace} loading={isLoading} />\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} loading={isLoading} />\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n          <DeleteConfirmPopup isOpen={isDeletePopupOpen} card={cardToDelete} onClose={closeAllPopups} onSubmit={handleCardDelete} loading={isLoading} />\r\n        </div>\r\n      </Switch>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport \"./index.css\";\r\nimport App from \"./components/App/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}